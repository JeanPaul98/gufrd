<div class="tw-relative">
    <div class="accordion-body">
      <div class="tw-flex tw-flex-col">
        <div class="sub-title ">
          <p class="tw-text-gray-800 tw-mb-1 tw-font-semibold tw-text-lg">
            Recapitulatif formulaire
          </p>
          <p class="tw-text-gray-600 tw-mb-10 tw-font-normal tw-text-base">
            Résumés des champs renseignés pour confirmation
          </p>
        </div>
        <div class="content tw-flex-grow">
          <div class="tw-flex tw-flex-row tw-mb-3 tw-font tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Pays de l'expéditeur</div>
            <div class="tw-text-gray-900 tw-font">{{ step1LocalData.paysExpediteur }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-font tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Expéditeur</div>
            <div class="tw-text-gray-900 tw-font">{{ step1LocalData.expediteur }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Pays d'origine</div>
            <div class="tw-text-gray-900">{{ step1LocalData.paysOrigine }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">lieu d'origine</div>
            <div class="tw-text-gray-900">{{ step1LocalData.lieuOrigine }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Pays de destination</div>
            <div class="tw-text-gray-900">{{ step1LocalData.paysDestination }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Nom destinataire</div>
            <div class="tw-text-gray-900">{{ step1LocalData.nomDestinataire }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Lieu de chargement</div>
            <div class="tw-text-gray-900">{{ step1LocalData.lieuChargement }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Moyen de transport</div>
            <div class="tw-text-gray-900">{{ step1LocalData.moyenTransport }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Poste frontalier</div>
            <div class="tw-text-gray-900">{{ step1LocalData.posteFrontalier }}</div>
          </div>
          <div class="tw-flex tw-flex-row tw-mb-3 tw-justify-between">
            <div class="tw-font-medium tw-text-gray-600">Date depart</div>
            <div class="tw-text-gray-900">
              {{ step1LocalData.dateDepart | date:'dd MMMM yyyy' }} à {{ step1LocalData.dateDepart | date:'HH:mm' }}
            </div>
          </div>
        </div>
      </div>
      <div class="!tw-border-b !tw-border-gray-200 tw-my-4"></div>
      <div class="tw-flex tw-flex-col">
        <div class="sub-title ">
          <p class="tw-text-blue-600 tw-mb-1 tw-font-semibold tw-text-base">
            Information produits
          </p>
          <p class="tw-text-blue-800 tw-mb-6 tw-font-normal tw-text-base">
            Informations sur les produits
          </p>
        </div>
        <div class="accordion-body">
          <table  [responsive]="true" [bordered]="true" class="!tw-divide-gray-200" cTable>
            <thead>
              <tr>
                <th class="tw-text-sm !tw-text-secondary">#</th>
                <th class="tw-text-sm tw-text-secondary">Description de la marchandise</th>
                <th class="tw-text-sm tw-text-secondary">Quantité totale</th>
                 <th class="tw-text-sm tw-text-secondary">Origine</th>
                <th class="tw-text-sm tw-text-secondary">Identifiaction du numero des conteneurs</th>
                <th class="tw-text-sm tw-text-secondary">Espèce</th>
                <th class="tw-text-sm tw-text-secondary">Race</th>
                <th class="tw-text-sm tw-text-secondary">Sexe</th>
                <th class="tw-text-sm tw-text-secondary">Nombre total d'unité emballés</th>
              </tr>
            </thead>
            <tbody >


              @for(produit of step2LocalData.detCertificatProduitDtos; track produit; let index = $index){
              @if(index + 1 < step2LocalData.detCertificatProduitDtos.length){
                <tr>
                <td>{{ index + 1 }}</td>
                <td>{{ produit.nomProduit }}</td>
                <td>{{ produit.quantite }}</td>
                <td>{{ produit.origine }}</td>
                <td>{{ produit.conteneur }}</td>
                <td>{{ produit.espece }}</td>
                <td>{{ produit.race }}</td>
                <td>{{ produit.sexe }}</td>
                <td>{{ produit.nombre }}</td>
              </tr>
              }
              } @empty {
                <tr>
                  <td colspan="7">Aucun produit</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
      <div class="!tw-border-b !tw-border-gray-200 tw-my-4"></div>
      <div class="tw-flex tw-flex-col">
        <div class="sub-title">
          <p class="tw-text-blue-600 tw-mb-1 tw-font-semibold tw-text-base">
            Document nécéssaires
          </p>
          <p class="tw-text-blue-800 tw-mb-6 tw-font-normal tw-text-base">
            Informations documents fournis
          </p>
        </div>
        <table class="tw-mt-4" cTable>
          <thead>
            <tr>
              <th class="tw-text-sm !tw-text-gray-600" scope="col">#</th>
              <th class="tw-text-sm !tw-text-gray-600" scope="col">PIECE</th>
              <th class="tw-text-sm !tw-text-gray-600" scope="col">TITRE</th>
              <th class="tw-text-sm !tw-text-gray-600" scope="col">FORMAT</th>
              <th class="tw-text-sm !tw-text-gray-600" scope="col">TAILLE</th>
            </tr>
          </thead>
          <tbody>
            @for (onceFile of this.step3LocalData.file; track $index) {
              @for (onceFileType of this.step3LocalData.fileNameTypePieceJointe; track onceFileType.idTypePieceJointe) {
                @if (onceFile.name === onceFileType.fileName) {
                  <tr>
                    <th scope="row" class="!tw-text-gray-600">{{ $index + 1 }}</th>
                    <td>{{ onceFileType?.typePieceJointe?.libelle }}</td>
                    <td>{{ demandUploadFilesService.getJustFileName(onceFile) }}</td>
                    <td>{{ demandUploadFilesService.getJustFileExtension(onceFile) }}</td>
                    <td>{{ demandUploadFilesService.getJustFileSizeInMB(onceFile) }}</td>
                  </tr>
                }
              }
            }@empty {
              <tr>
                <td colspan="5">Aucun document</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
    <!-- <div class="!tw-border-b !tw-border-gray-200 tw-mt-8"></div>  -->
    <div class="title tw-flex tw-flex-row tw-mt-8 tw-items-center tw-justify-end">
      <div
        class="action-button tw-mt-2 tw-mb-8 tw-bg-white tw-flex tw-flex-row !tw-gap-3"
      >
        <button
          (click)="onClickPrevious()"
          class="!tw-gap-2 !tw-flex !tw-items-center !tw-shadow-button hover:!tw-bg-secondary-light !tw-border !tw-bg-white !tw-border-border-secondary"
          cButton
          color="light"
        >
          <span>Précédent</span>
        </button>
        <button
          (click)="onClickNext()"
          class="!tw-flex !tw-items-center !tw-shadow-button-primary hover:!tw-bg-green-700 !tw-gap-2 !tw-border !tw-text-white !tw-bg-primary !tw-border-border-secondary"
          cButton
          color="primary"
        >
          <span>Créer la demande</span>
        </button>
      </div>
    </div>
  </div>
